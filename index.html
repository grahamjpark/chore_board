<html>
	<head>
		<title>Welcome to Chore-Board</title>
		<link rel="stylesheet" type="text/css" href="/css/master.css">
		<link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
		<script>
		var groupid= 3334343
		function revealAdd(){
			$('#addBox').slideDown("slow");
			$('#addEntry').slideUp("slow");
		}
		</script>
	</head>
	<body>
		<div id="loginBar">
			<form id="login" action="">
					<input id="user" placeholder="Username"/>
					<input id="pass" autocomplete="off" type="password" placeholder="Password"/>
					<button>Login</button>
			</form>
		</div>
		<div class="container">
			<div id="header">Chore Board</div>
			<ul class="menu" id="section">
				<li id="viewJobs">Chores</li>
				<li style="float:right;" id="viewLeaderboard">Users</li>
			</ul>
			<div id="content">
				<div class="chore" id="XXXXXX">

					<div style="width: 70%; display: inline-block">
						<span class="choreName" id="XXXXXXname">"MOP THE DISHES"</span>
						<span id="XXXXXXdesc" class="choreDesc">"the dishes need mopped"</span>
						<span id="XXXXXXauth"class="ChoreAuthor">by: "EXAMPLEMAN"</span>
					</div>
					<span class="chorePoints" id="XXXXXXpoints">"15"</span>
				</div>
				
				<div class="user" id="XXXXXX">
					<div style="width: 60%; display: inline-block" class="userName" id="nameXXXXXX">
						EXAMPLEMAN
					</div>
					<span class="userPoints" id="pointsXXXXXX">"150"</span>
				</div>

				<div class="user" id="YYYYYY">
					<div style="width: 60%; display: inline-block" class="userName" id="nameYYYYYY">
						EXAMPLEMAN
					</div>
					<span class="userPoints" id="pointsYYYYYY">"150"</span>
				</div>
				
				<div id="addBox">
					<input id="jobname" placeholder="Job Name"/>
					<input id="jobdesc" style="width: 50%" placeholder="Job Description"/>
					<input id="jobPoints" style="width: 14%" placeholder="Points"/>	
					<div id="addPrivJob" class="button">Add Private Job</div>
					<div id="addPubJob" class="button">Add Public Job</div>
				</div>

				<div class="addEntry" id="addEntry">
					+ADD
				</div>
			</div>
		</div>
		<script src="/socket.io/socket.io.js"></script>
    	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
		<script>
		$('#addEntry').click(function(){
			revealAdd();
			return false;
		});
		$('#addPubJob').click(function(){
			socket.emit('addPubJob',false,groupid,$('#jobname').value,user,$('jobdesc'), $('jobPoints'));
			return false;
		});
		$('#addPrivJob').click(function(){
			socket.emit('addPubJob',true,groupid,$('#jobname').value,user,$('jobdesc'), $('jobPoints'));
			return false;
		});
		$(document).on('click', '.user',function(){
			$("#choreOverlay").remove();
			$("<div id='choreOverlay'><input id='transferInput' placeholder='Points' /><div id='transferButton'>Transfer</div></div>").appendTo(this).hide().slideDown();
		});

		$(document).on('click','#transferInput',function(evt){
			evt.stopPropagation();
		});

		$(document).on('click','#transferButton',function(evt){
			evt.stopPropagation();
		});
		  var socket = io();
		  $('#viewJobs').click(function(){
			socket.emit('viewJobs', true);
			return false;
		  });
		  $('#viewLeaderboard').click(function(){
			socket.emit('viewLeaderboard');
			return false;
		  });
		  $('#login').submit(function(){
			socket.emit('login', $('#user').val(), $('#pass').val(), 0);
			return false;
		  });
		  socket.on('setSection', function(title){
			$('#list').empty();
			$('#list').append($('<li>').text(title));
		  });
		  socket.on('addList', function(element){
			$('#list').append(element + '<br>');
		  });
		  socket.on('clearList', function(){
			$('#list').empty();
		  });
		</script>
	</body>
</html>